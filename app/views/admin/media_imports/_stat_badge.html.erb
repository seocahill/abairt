<%
  colors = {
    "yellow" => "bg-yellow-100 text-yellow-800 border-yellow-200",
    "green" => "bg-green-100 text-green-800 border-green-200",
    "gray" => "bg-gray-100 text-gray-800 border-gray-200",
    "red" => "bg-red-100 text-red-800 border-red-200"
  }
  is_active = defined?(status) && params[:status] == status
  color_class = defined?(color) && colors[color] ? colors[color] : "bg-white text-gray-800 border-gray-200"
%>

<% if defined?(status) && status.present? %>
  <%= link_to admin_media_imports_path(status: status, search: params[:search]),
      class: "block shadow rounded-lg px-5 py-4 border-2 transition #{is_active ? 'border-blue-500 ring-2 ring-blue-200' : 'border-transparent hover:border-gray-300'} #{color_class}" do %>
    <p class="text-xs font-medium uppercase"><%= label %></p>
    <p class="mt-1 text-2xl font-bold"><%= value %></p>
  <% end %>
<% else %>
  <%= link_to admin_media_imports_path(search: params[:search]),
      class: "block bg-white shadow rounded-lg px-5 py-4 border-2 transition #{params[:status].blank? ? 'border-blue-500 ring-2 ring-blue-200' : 'border-transparent hover:border-gray-300'}" do %>
    <p class="text-xs font-medium text-gray-500 uppercase"><%= label %></p>
    <p class="mt-1 text-2xl font-bold text-gray-900"><%= value %></p>
  <% end %>
<% end %>
